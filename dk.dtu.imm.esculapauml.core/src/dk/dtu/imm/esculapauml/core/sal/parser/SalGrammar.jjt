 /**
 * JJTree grammar for SAL language (Simple Action Language).
 * Author: Piotr J. Puczynski (DTU Informatics)
 */options{  STATIC = false;  NODE_CLASS = "SALNode";  MULTI = true;  NODE_PREFIX = "SAL";  VISITOR = true;  VISITOR_DATA_TYPE = "dk.dtu.imm.esculapauml.core.sal.SALEvaluationHelper";  VISITOR_RETURN_TYPE = "dk.dtu.imm.esculapauml.core.collections.ValuesCollection";}PARSER_BEGIN(SALParser)package dk.dtu.imm.esculapauml.core.sal.parser;import java.io.StringReader;import java.io.Reader;public class SALParser{  public SALParser(String s)  {    this ((Reader) (new StringReader(s)));  }}PARSER_END(SALParser)/** Skip these characters, they are considered "white space" **/SKIP :{  " "| "\t"| "\r"| "\n"}TOKEN :{  < REPLY : "reply" >| < ASSIGN : ":=" >| < PLUS : "+" >| < MINUS : "-" >| < MUL : "*" >| < DIV : "/" >| < MOD : "%" >| < AND : "and" >| < OR : "or" >| < NOT : "not" >}TOKEN :{  < INTEGER_CONSTANT : (< DIGIT >)+ >| < LOGIC_CONSTANT :    "true"  | "false" >| < NULL_CONSTANT : "null" >| < STRING_CONSTANT : "\"" (~[ "\"" ])+ "\"" >| < OCL_EXPRESSION : "ocl(`" (~[ "`" ])+ "`)" >| < #DIGIT : [ "0"-"9" ] >}TOKEN :{  < IDENTIFIER :    < LETTER >    (      < LETTER >    | < DIGIT >    )* >| < #LETTER : ([ "a"-"z", "A"-"Z", "_" ]) >}TOKEN :{  < LPAREN : "(" >| < RPAREN : ")" >| < LBRACKET : "[" >| < RBRACKET : "]" >| < DOT : "." >| < SEMICOLON : ";" >| < COMMA : "," >}SALNode parse() #Root :{}{  (    (      Statement()    )    (      < SEMICOLON >      (        Statement()      )?    )*  )?  < EOF >  {    return jjtThis;  }}void Statement() #void :{}{  LOOKAHEAD(AssignmentWithSelection())  AssignmentWithSelection()| Expression()| ReplyStatement()}//PRECEDENCE STARTS HERE (from lowest to highest)
void Expression() #void :{}{  AndExpr()  (    < OR > AndExpr() #Or(2))*}void AndExpr() #void :{}{  AdditiveExpr()  (    < AND > AdditiveExpr() #And(2))*}void AdditiveExpr() #void :{}{  SubtractiveExpr()  (    < PLUS > SubtractiveExpr() #Add(2))*}void SubtractiveExpr() #void :{}{  MultiplicativeExpr()  (    < MINUS > MultiplicativeExpr() #Substract(2))*}void MultiplicativeExpr() #void :{}{  DivExpr()  (    < MUL > DivExpr() #Mult(2))*}void DivExpr() #void :{}{  ModExpr()  (    < DIV > ModExpr() #Div(2))*}void ModExpr() #void :{}{  UnaryExpr()  (    < MOD > UnaryExpr() #Mod(2))*}void UnaryExpr() #void :{}{  Expression2()| Not()}//PRECEDENCE ENDS HERE (from lowest to highest)void Expression2() #void :{}{  IntegerConstant()| LogicConstant()| NullConstant()| StringConstant()| OCLExpression()| CollectionExpression()| NavigationExpression()| < LPAREN > Expression() < RPAREN >}void Not() :{}{  < NOT > Expression2()}void AssignmentWithSelection() #void :{}{  LOOKAHEAD(AssignmentSelector())  AssignmentSelector()| Assignment()}void Assignment() :{  Token t;}{  t = < IDENTIFIER > < ASSIGN > Expression()  {    jjtThis.jjtSetValue(t.image);  }}void AssignmentSelector() :{  Token t;}{  t = < IDENTIFIER > Selector() < ASSIGN > Expression()  {    jjtThis.jjtSetValue(t.image);  }}void ReplyStatement() :{}{  < REPLY > Expression()}void IntegerConstant() :{  Token t;}{  (    t = < INTEGER_CONSTANT >    {      jjtThis.jjtSetValue(Integer.valueOf(t.image));    }  | < MINUS > t = < INTEGER_CONSTANT >    {      jjtThis.jjtSetValue(- Integer.valueOf(t.image));    }  )}void LogicConstant() :{  Token t;}{  t = < LOGIC_CONSTANT >  {    jjtThis.jjtSetValue(((String) t.image).equals("true"));  }}void NullConstant() :{}{  < NULL_CONSTANT >}void StringConstant() :{  Token t;}{  t = < STRING_CONSTANT >  {    jjtThis.jjtSetValue(t.image.substring(1, t.image.length() - 1));  }}void OCLExpression() :{  Token t;}{  t = < OCL_EXPRESSION >  {    jjtThis.jjtSetValue(t.image.substring(5, t.image.length() - 2));  }}void NavigationExpression() #void :{}{  (    LOOKAHEAD(2)    CallWithSelection()  | IdentWithSelection()  )  (    LOOKAHEAD(3)    < DOT > CallWithSelection() #MemberCall(2)| < DOT > IdentWithSelection() #Member(2))*}void IdentWithSelection() #void :{}{  LOOKAHEAD(2)  IdentSelector()| Ident()}void Ident() :{  Token t;}{  t = < IDENTIFIER >  {    jjtThis.jjtSetValue(t.image);  }}void IdentSelector() :{}{  Ident() Selector()}void Selector() :{}{  < LBRACKET > Expression() < RBRACKET >}void CallWithSelection() #void :{}{  LOOKAHEAD(CallSelector())  CallSelector()| Call()}void Call() :{  Token t;}{  t = < IDENTIFIER > Parameters()  {    jjtThis.jjtSetValue(t.image);  }}void CallSelector() :{}{  Call() Selector()}void Parameters() #void :{}{  < LPAREN >  (    (      Expression()    )    (      < COMMA > Expression()    )*  )?  < RPAREN >}void CollectionExpression() :{}{  < LBRACKET >  (    (      Expression()    )    (      < COMMA > Expression()    )*  )?  < RBRACKET >}
